{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Threshold Validation Test Schema",
  "description": "Schema for hellshake-yano.vim threshold validation test cases",
  "type": "object",
  "required": ["testName", "thresholds", "testCases", "expectedBehavior"],
  "properties": {
    "testName": {
      "type": "string",
      "description": "Name of the test configuration"
    },
    "thresholds": {
      "type": "object",
      "required": ["japaneseMergeThreshold", "segmenterThreshold"],
      "properties": {
        "japaneseMergeThreshold": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5,
          "description": "Threshold for merging Japanese particles and auxiliary words (1-5)"
        },
        "segmenterThreshold": {
          "type": "integer",
          "minimum": 2,
          "maximum": 6,
          "description": "Minimum character count to enable TinySegmenter (2-6)"
        }
      }
    },
    "testCases": {
      "type": "array",
      "description": "List of test cases with sample text and expected word boundaries",
      "items": {
        "type": "object",
        "required": ["input", "expectedWords", "description"],
        "properties": {
          "input": {
            "type": "string",
            "description": "Sample Japanese text to test"
          },
          "expectedWords": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Expected word segmentation results"
          },
          "description": {
            "type": "string",
            "description": "Description of what this test case validates"
          }
        }
      }
    },
    "expectedBehavior": {
      "type": "object",
      "properties": {
        "particleMerging": {
          "type": "string",
          "enum": ["aggressive", "moderate", "minimal", "none"],
          "description": "Expected level of particle merging behavior"
        },
        "segmenterUsage": {
          "type": "string",
          "enum": ["always", "frequent", "selective", "rare", "never"],
          "description": "Expected frequency of TinySegmenter usage"
        },
        "navigationSmoothness": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5,
          "description": "Expected navigation smoothness (1=worst, 5=best)"
        },
        "accuracy": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5,
          "description": "Expected word boundary accuracy (1=worst, 5=best)"
        }
      }
    },
    "useCases": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Recommended use cases for this threshold configuration"
    },
    "notes": {
      "type": "string",
      "description": "Additional notes about this configuration"
    }
  }
}